@import (less) './client/icons/customIcons.less';
@import (less) 'shared/naturalcrit/styles/core.less';

#preview-toolbar-dot {
	position: absolute;
	top: 0px;
	left: 0px;
	width: auto;
	min-height: 30px;
	background: #0003;
	color: #ccc;
	border-radius: 3px;
	overflow: hidden;
	align-items: center;
	display: flex;

	.menu-section {
		gap: 0 5px;
		align-items: center;
	}

	.menu-item {
		display: inline-grid;
		width            : auto;
		aspect-ratio: 1 / 1;
		grid-template-columns: 1fr;
		gap: 0;
		.name, .caret {
			.screen-reader-only();
		}
		&:hover { background-color : #0004; }
		&:focus {outline : none; border  : 1px solid #D3D3D3;}
	}
}

#preview-toolbar {
	--menubar-shadow : 0 0px 4px -1px black;
	z-index          : 1;
	display          : flex;
	flex-wrap        : wrap;
	gap              : 0px 20px;
	align-items      : center;
	justify-content  : center;
	// padding          : 5px 0 2px;
	font-family      : 'Open Sans', sans-serif;
	// font-size        : 13px;
	color            : #CCCCCC;
	background-color : #555555;
	anchor-name      : --toolbar;
	box-shadow       : var(--menubar-shadow);
	& > *:not(.toggleButton) {
		opacity    : 1;
		transition : all 0.2s ease;
	}

	.menu-section {
		gap: 0 5px;
		flex-wrap: wrap;
		justify-content: flex-start;
	}

	#preview-toggles, [aria-label='Pages'] {
		margin-right: auto;
	}

	.menu-item {
		width            : auto;
		aspect-ratio: 1 / 1;
		grid-template-columns: 1fr;
		gap: 0;
		.name, .caret {
			.screen-reader-only();
		}
		&:hover { background-color : #444444; }
		&:focus {outline : none; border  : 1px solid #D3D3D3;}
		&:disabled {
			color            : #777777;
			background-color : unset !important;
		}

		&:is(input) {
			position       : relative;
			height         : 1.5em;
			padding        : 2px 5px;
			font-family    : 'Open Sans', sans-serif;
			font-size: 10px;
			color          : inherit;
			background     : #3B3B3B;
			border         : none;
			&:focus { outline : 1px solid #D3D3D3; }
	
			// `.range-input` if generic to all range inputs, or `#zoom-slider` if only for zoom slider
			&.range-input {
				padding      : 2px 0;
				color        : #D3D3D3;
				accent-color : #D3D3D3;
	  
				&::-webkit-slider-thumb, &::-moz-range-thumb { 
					width            : 2px;
					height           : 2px;
					cursor           : ew-resize;
					outline          : none;
				}
	
				&.hover-tooltip[value]:hover::after {
					position         : absolute;
					bottom           : -30px;
					left             : 50%;
					z-index          : 1;
					display          : grid;
					place-items      : center;
					width            : 4ch;
					height           : 1.2lh;
					pointer-events   : none;
					content          : attr(value);
					background-color : #555555;
					border           : 1px solid #A1A1A1;
					transform        : translate(-50%, 50%);
				}
			}
	
			// `.text-input` if generic to all range inputs, or `#page-input` if only for current page input
			&#page-input {
				min-width    : 5ch;
				// margin-right : 1ch;
				text-align   : center;
			}
		}
	}

	.active, [aria-checked='true'] { background-color : #444444; }

	.anchored-trigger {
		&.active { background-color : #444444; }
	}

	.anchored-box {
		--box-color      : #555555;
		top              : 30px;
		display          : flex;
		flex-direction   : column;
		gap              : 5px;
		padding          : 15px;
		margin-top       : 10px;
		color            : #CCCCCC;
		background-color : var(--box-color);
		border-radius    : 5px;
	
		h1 {
			padding-bottom : 0.3em;
			margin-bottom  : 0.5em;
			border-bottom  : 1px solid currentColor;
		}
	
		h2 {
			padding-bottom : 0.3em;
			margin         : 1em 0 0.5em 0;
			color          : lightgray;
			border-bottom  : 1px solid currentColor;
		}
	
		label {
			display         : flex;
			gap             : 6px;
			align-items     : center;
			justify-content : space-between;
	
		}
		input {
			height : unset;
			color        : #D3D3D3;
			accent-color : #D3D3D3;
			&[type='range'] { 
	  
				&::-webkit-slider-thumb, &::-moz-range-thumb { 
					width            : 2px;
					height           : 2px;
					cursor           : ew-resize;
					outline          : none;
				} }
		}
		&::before {
			position       : absolute;
			top            : -20px;
			left           : 50%;
			width          : 0px;
			height         : 0px;
			pointer-events : none;
			content        : '';
			border         : 10px solid transparent;
			border-bottom  : 10px solid var(--box-color);
			transform      : translateX(-50%);
		}

	}

	.radio-group:has(button[role='radio']) {
		display : flex;
		// border  : 1px solid #333333;
		// border-radius: 6px;
		.menu-item {
			padding: 0 3px;
		}
	}

	


	&.hidden {
		display: none;
		overflow         : hidden;
		background-color : unset;
		opacity          : 0.7;
		transition       : all 0.3s ease;
		box-shadow: none;
		& > *:not(.toggleButton) {
			opacity    : 0;
			transition : all 0.2s ease;
		}

		.toggleButton button i {
			filter: drop-shadow(0 0 2px black) drop-shadow(0 0 1px black);
		}
	}
}

.toggleButton {
	align-self: flex-start;
	display   : flex;
	align-items: center;
	width     : 32px;
	min-width : unset;
	height    : 100%;
}