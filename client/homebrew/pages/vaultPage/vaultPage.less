@import (less) 'form.less';
@import (multiple, less) 'shared/naturalcrit/styles/scrollbars.less';

.vaultPage {
	height           : 100%;
	background-color : #2C3E50;

	.pane:has(#search-panel) {
		background: #555555;
		color: ghostwhite;
		font-size: 13px;
		overflow-y : auto;
		.scrollbar-styles(#555, #b3b3b3, 14px);
	}

	#search-panel {
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		gap: 1em 0px;
		padding: 1em;

		blockquote {
			background: #FFFFFF20;
			padding: 1em;
			text-align: center;
			line-height: 2;
			width: clamp(150px, 75%, 400px);
		}

		details {
			background: #FFFFFF20;
			padding: 1em;
			line-height: 2;
			width: clamp(150px, 75%, 400px);
			summary {
				text-decoration: underline;
				cursor: pointer;
			}
		}

		ul {
			margin: 1em 0;
			list-style-type: disc;
			padding-left: 1em;
			li {
				line-height: 1.3;
				+ li {
					margin-top: .5em;
				}
			}
		}

		svg {
			width: 200px;
			height: auto;
			align-self: center;
		}

		form {
			width: clamp(150px, 75%, 400px);
			margin: 20px 0;
		}


		code {
			padding: 2px 5px;
			font-size: .8em;
			font-family: monospace;
			background: #303030;
			border-radius: 5px;
			border: 1px inset #898989;
		}

		small {
			font-size: .7em;
		}


		#vault-search-form {
			position       : relative;


			input { 

				&:invalid { background : rgb(255, 188, 181); }
				
				
			}

			#searchButton {
				.colorButton(@green);

				i {
					margin-left         : 10px;
					animation-duration  : 1000s;
				}
			}
		}
	}
		

	#results-panel {
		display        : flex;
		flex-direction : column;
		height         : 100%;
		font-size      : 0.34cm;

		#list-toolbar.menu-bar {
			--menubar-color  : #555555;
			--menubar-border : 1px solid #666;
			--menubar-shadow : 0 0px 4px -1px black;
			--menubar-accent : #AAAAAA;
			color: ghostwhite;
			background-color : var(--menubar-color);
			text-transform   : uppercase;
			font-weight      : 600;
			box-shadow       : var(--menubar-shadow);
			border-bottom    : var(--menubar-border);
			display: flex;

			#sort-options.menu-section {
				flex: 1 1 auto;
				justify-content: space-evenly;
				gap: 0;
			}

			#layout-options.menu-section {
				flex: 0 0 min-content;
			}

			.menu-item {
				justify-content: center;
				padding: 0 5px;
				&:hover { background-color : #0004; }
				&:focus {outline : none; border  : 1px solid #D3D3D3;}
				&.active, &[aria-checked='true'] {
					background-color : #444444;
					text-decoration: underline;
				}

				span {
					margin-right: unset;
				}
			}

			.menu-item:not(:has(i)) {   // menu-item that does not have an icon
				grid-template-columns: min-content;
				grid-template-areas: "name"
			}
			
		}

		.totalBrews {
			text-align: center;
			padding          : 20px 10px 0;
			font-size: 28px;
			line-height: 1.3;
			margin: 1em 0;
			text-align: center;
			color: #93a4b2;
			font-weight: bold;
			line-height: 1.3;

			.searchAnim {
				position : relative;
				width    : 3ch;
				height   : 1em;
			}

			.searchAnim::after {
				position  : absolute;
				top       : 50%;
				right     : 0;
				width     : max-content;
				height    : 1em;
				content   : '';
				translate : -50% -50%;
				animation : trailingDots 2s ease infinite;
			}
		}

		#results {
			overflow-y     : auto;
			padding-top : 30px;
		}

		.foundBrews {
			position         : relative;
			display: flex;
			justify-content: center;
			gap: 15px;
			width            : 100%;
			padding          : 0 25px;
			background-color : #2C3E50;
			container-type   : inline-size;
			min-height: 100%;

			&.card-layout {
				display: flex;
				flex-wrap: wrap;
				.brewItem {
					flex: 0 0 250px;
					height: 325px;
				}

			}

			&.list-layout {
				flex-direction: column;
				gap: 10px;
				padding: 0 50px;
			}

			h3 { font-size : 25px; }

			&.noBrews, &.search-status {
				display     : grid;
				place-items : center;
				text-align: center;
				color: #93a4b2;
				font-weight: bold;
				line-height: 1.3;

				h3 { position : relative; }

				h3.searchAnim::after {
					position  : absolute;
					top       : 50%;
					right     : 0;
					width     : max-content;
					height    : 1em;
					content   : '';
					translate : calc(100% + 5px) -50%;
					animation : trailingDots 2s ease infinite;
				}
			}



		}

			

		.paginationControls {
			margin: 20px auto;
			display               : grid;
			grid-template-areas   : 'previousPage currentPage nextPage';
			grid-template-columns : 50px 1fr 50px;
			gap                   : 20px;
			place-items           : center;
			width                 : auto;
			font-size             : 15px;
			max-width: 600px;

			&:last-child { top : unset; }

			.pages {
				display         : flex;
				grid-area       : currentPage;
				gap             : 1em;
				justify-content : space-evenly;
				width           : 100%;
				height          : 100%;
				text-align      : center;

				.pageNumber {
					place-content           : center;
					width                   : fit-content;
					// min-width               : 2em;
					font-family             : 'Open Sans';
					font-weight             : 900;
					color                   : white;
					text-wrap               : nowrap;
					text-underline-position : under;
					cursor                  : pointer;

					&.currentPage {
						color           : gold;
						text-decoration : underline;
						pointer-events  : none;
					}

					&.firstPage { margin-right : -5px; }

					&.lastPage { margin-left : -5px; }
				}
			}

			button {
				.colorButton(@green);
				width : max-content;

				&.previousPage { grid-area : previousPage; }

				&.nextPage { grid-area : nextPage; }
			}

		}
	}

	
	
}

@keyframes trailingDots {

	0%,
	32% { content : ' .'; }

	33%,
	65% { content : ' ..'; }

	66%,
	100% { content : ' ...'; }
}

@container (width < 670px) {
	.vaultPage {

		#results-panel .foundBrews .brewItem {
			width         : 100%;
			margin-inline : auto;
		}
	}
}
